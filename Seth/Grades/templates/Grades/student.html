{% extends 'base.html' %}

{% block title %}Student{% endblock %}

{% block content %}

    {% include 'navbar.html' %}
    {% load grade_extras %}

    <style>
    table, th, td {border: 1px solid black; border-collapse: collapse; padding: 1px;}
    </style>

    {% if student %}

        <h1>{{ student.user.first_name }} {{ student.user.last_name }}</h1>
        <hr>

        {% for mod in coursedict.keys %}
            <h2> {{ mod.module.name }} </h2>
            {% for course in coursedict|key:mod %}
                <h3>{{ course }}</h3>
                <table>
                    <tr>
                        {% for test in testdict|key:course %}
                            <th> {{ test.name }} </th>
                        {% endfor %}
                    </tr>
                    <tr>
                        {% for test in testdict|key:course %}
                        {% with grade=gradedict|key:test|last %}
                            <td>{{ grade|grade_od }}</td>
                        {% endwith %}
                        {% endfor %}
                    </tr>
                </table>
            {% endfor %}
        {% endfor %}

    {% else %}
    <p>No courses available</p>
    {% endif %}
{% endblock %}